!function(){"use strict";const e=window.requestAnimationFrame||window.setTimeout;function t(e,t){let n;return function(){const r=arguments,o=this;n||(e.apply(o,r),n=!0,setTimeout(()=>n=!1,t))}}function n(e,t){let n;return function(...e){const r=()=>{clearTimeout(n),e(...e)};clearTimeout(n),n=setTimeout(r,t)}}function r(){const e=window.pageYOffset||document.documentElement.scrollTop,t=document.getElementById("fixedHeader"),n=document.getElementById("scroll-top");t&&(t.style.boxShadow=e>10?"0 2px 20px rgba(0, 0, 0, 0.1)":"none"),n&&(e>300?n.classList.add("show"):n.classList.remove("show"))}function o(e,t=2e3){const n=performance.now(),r=0;function o(o){const i=o-n,a=Math.min(i/t,1),s=1-Math.pow(1-a,4),c=Math.floor(r+(t-r)*s);e.textContent=c,a<1&&e(o)}e(o)}function i(){if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&!e.target.classList.contains("animated")){const t=e.target.querySelector(".counter");t&&(o(t,parseInt(t.getAttribute("data-target"))||0),e.target.classList.add("animated"))}})},{threshold:.3});document.querySelectorAll(".stat-card").forEach(e=>e.observe(e))}}function s(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)={e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.dataset.src&&(t.src=t.dataset.src,t.classList.remove("lazy"),t.unobserve(t))}})});document.querySelectorAll('img[data-src]').forEach(e=>e.observe(e))}}function c(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=document.querySelector(this.getAttribute("href"));if(t){e.preventDefault();const e=document.querySelector(".fixed-top")?.offsetHeight||0,n=t.offsetTop-e-20;window.scrollTo({top:n,behavior:"smooth"})}})})}function a(){const e=document.getElementById("loading-spinner");if(!e)return;function t(){e.classList.add("hidden"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},500)}setTimeout(t,1500),window.addEventListener("load",t)}function l(){if("undefined"!=typeof Swiper){const e=document.querySelector(".teachers-slider");if(e){const t=JSON.parse(e.querySelector(".swiper-config")?.textContent||"{}");new Swiper(e,{...t,lazy:{loadPrevNext:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0})}const t=document.querySelector(".testimonials-slider");if(t){const e=JSON.parse(t.querySelector(".swiper-config")?.textContent||"{}");new Swiper(t,{...e,lazy:{loadPrevNext:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0})}}}function d(){if("undefined"!=typeof AOS){AOS.init({duration:800,easing:"ease-in-out",once:!0,offset:100,disable:function(){return window.innerWidth<768}})}}function u(){if("undefined"!=typeof GLightbox){GLightbox({selector:".glightbox",touchNavigation:!0,loop:!1,autoplayVideos:!1})}}function f(){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(e){const e=document.querySelectorAll(".stat-card, .testimonial-card, .teacher-profile-card");e.forEach(e=>{e.style.transition="none"});const t=document.querySelectorAll("img");t.forEach(e=>{e.style.imageRendering="optimizeSpeed",(e.closest(".hero")||e.closest(".carousel-item"))&&(e.loading="eager")})}}function p(){a(),c(),f(),window.addEventListener("scroll",t(r,16),{passive:!0}),window.addEventListener("resize",n(()=>{},250)),setTimeout(()=>{i(),s(),l(),d(),u()},100)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",p):p(),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("Service Worker registered successfully:",e.scope)}).catch(function(e){console.log("Service Worker registration failed:",e)})})}();
